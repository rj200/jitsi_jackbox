<html itemscope itemtype="http://schema.org/Product" prefix="og: http://ogp.me/ns#" xmlns="http://www.w3.org/1999/html">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="content-type" content="text/html;charset=utf-8">
    </head>
    <body style="margin:0px; overflow:hidden;">
        <script src="https://meet.jit.si/external_api.js"></script>
		
		<iframe src="https://jackbox.tv" id="jackbox0" allowfullscreen="true" style="float:left; height: 50vh; width: 100%; border: 0px;"></iframe>
        
		<div id=jitsi style="font-size:16pt; text-align: center; float:right; height: 50vh; width: 100%; border: 0px;">
		<br>
		<p>Mobile users: in the menu (three dots in top right) select "Request Desktop Site"</p>
		<br>
		Room:<br> <input id=room type=text placeholder="<type room name>" style="font-size:20pt" onchange="startJitsi()"></br>
		<br>
		<button onclick="startJitsi()" style="font-size:20pt">Enter Video Conference</button>
		</div>
		<script>
		document.getElementById('room').value = window.location.hash.substring(1);
		
		var api;
		function startJitsi() {
			if(!document.getElementById('room').value) return;
			document.getElementById('jitsi').style.display="none";
            var domain = "meet.jit.si";
            var options = {
                roomName: document.getElementById('room').value,
                parentNode: undefined,
                //configOverwrite: {},
                configOverwrite: {
                    VERTICAL_FILMSTRIP: false,
					MOBILE_APP_PROMO: false,
					OPEN_IN_MOBILE_BROWSER: true,
					MAXIMUM_ZOOMING_COEFFICIENT: 4,
					TOOLBAR_ALWAYS_VISIBLE: true,
					SHOW_JITSI_WATERMARK: false,
					AUTO_PIN_LATEST_SCREEN_SHARE: false,
					FILM_STRIP_MAX_HEIGHT: 30,
                }
            }
            api = new JitsiMeetExternalAPI(domain, options);
			
			
			api.executeCommand('toggleFilmStrip')
			api.executeCommand('toggleTileView');
			resize();
		}
		
		function resize() {
			jitsi = document.getElementById("jitsiConferenceFrame0") || document.getElementById("jitsi");
			jitsi.style.float="left";
			jackbox = document.getElementById("jackbox0");
			if(window.innerWidth > window.innerHeight) {
				jitsi.style.width=window.innerWidth/2-1 +"px";
				jitsi.style.height=window.innerHeight +"px";
				jackbox.style.width=window.innerWidth/2-1+"px"
				jackbox.style.height=window.innerHeight +"px";
			} else {
				jitsi.style.width=window.innerWidth +"px";
				jitsi.style.height=window.innerHeight/2-1 +"px";
				jackbox.style.width=window.innerWidth+"px"
				jackbox.style.height=window.innerHeight/2-1 +"px";
			}
		}
		window.onresize=resize;
		resize();

	  </script>
    </body>
</html>
